{"version":3,"sources":["service/socket.js","components/UserList.js","components/Chatroom.js"],"names":["socketIOClient","UserList","className","this","props","activeUser","map","user","username","id","Component","Chatroom","state","counter","text","msgLog","chatLog","log","msg","onSubmit","e","preventDefault","socket","emit","name","setState","onChange","target","value","io","on","err","console","list","style","textAlign","type","placeholder"],"mappings":"qNAIeA,E,MAAAA,GAFE,0CCUFC,EAVf,uKAEI,OACE,qBAAKC,UAAU,WAAf,SAA2BC,KAAKC,MAAMC,WAAWC,KAAI,SAACC,GACpD,OAAO,4BAAkBA,EAAKC,UAAfD,EAAKE,aAJ5B,GAA8BC,aCGjBC,EAAb,4MAEEC,MAAQ,CAENC,QAAS,EACTC,KAAM,GACNC,OAAQ,GACRV,WAAY,IAPhB,EA4BEW,QAAU,WACR,OAAO,qBAAKd,UAAU,UAAf,SAA0B,EAAKU,MAAMG,OAAOT,KAAI,SAACW,GACtD,OAAO,4BAAiBA,EAAIC,KAAbD,EAAIR,UA9BzB,EAkCEU,SAAW,SAACC,GACVA,EAAEC,iBACFC,EAAOC,KAAK,gBAAiB,CAACC,KAAK,EAAKpB,MAAMI,SAAUM,KAAK,EAAKF,MAAME,OAExE,EAAKW,SAAS,CAAEX,KAAM,MAtC1B,EAyCEY,SAAW,SAACN,GAAD,OAAO,EAAKK,SAAS,CAAEX,KAAMM,EAAEO,OAAOC,SAzCnD,kEAUsB,IAAD,OAEjBN,EAAOO,GAAGC,GAAG,SAAS,SAASC,GAE7BC,QAAQf,IAAI,iCAGdK,EAAOC,KAAK,WAAY,CAACf,SAAUL,KAAKC,MAAMI,WAE9Cc,EAAOQ,GAAG,WAAW,SAAAZ,GACnB,EAAKO,SAAS,CAAEZ,QAAS,EAAKD,MAAMC,QAAQ,EAAGE,OAAO,GAAD,mBAAM,EAAKH,MAAMG,QAAjB,CAAyB,CAACN,GAAI,EAAKG,MAAMC,QAASK,IAAKA,UAG9GI,EAAOQ,GAAG,cAAc,SAAAG,GACtB,EAAKR,SAAS,CAACpB,WAAY4B,SAxBjC,+BA4CI,OACE,sBAAKC,MAAO,CAAEC,UAAU,UAAxB,UACE,0CACA,cAAC,EAAD,CAAU9B,WAAYF,KAAKE,aAC1BF,KAAKa,UACN,sBAAMG,SAAUhB,KAAKgB,SAArB,SACA,uBAAOiB,KAAK,OAAOC,YAAY,iCAAiCT,MAAOzB,KAAKS,MAAME,KAAMY,SAAUvB,KAAKuB,oBAlD/G,GAA8BhB,aAyDfC","file":"static/js/4.e02654fb.chunk.js","sourcesContent":["import socketIOClient from \"socket.io-client\";\r\n\r\nconst ENDPOINT = \"https://brian-messenger.herokuapp.com/\";\r\n\r\nexport default socketIOClient(ENDPOINT);","import React, { Component } from 'react'\r\n\r\nexport class UserList extends Component {\r\n  render() {\r\n    return (\r\n      <div className='userList'>{this.props.activeUser.map((user) => {\r\n        return <p key={user.id}>{user.username}</p>\r\n      })}</div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserList\r\n","import React, { Component } from 'react'\r\nimport socket from '../service/socket';\r\n\r\nimport UserList from './UserList';\r\n\r\nexport class Chatroom extends Component {\r\n\r\n  state = {\r\n    //counter provides unique id for map function in chatLog\r\n    counter: 1,\r\n    text: \"\",\r\n    msgLog: [],\r\n    activeUser: []\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    socket.io.on('error', function(err) {\r\n      // handle server error here\r\n      console.log('Error connecting to server');\r\n    });\r\n\r\n    socket.emit('username', {username: this.props.username});\r\n\r\n    socket.on('message', msg => {\r\n      this.setState({ counter: this.state.counter+1, msgLog: [...this.state.msgLog, {id: this.state.counter, msg: msg}] });\r\n    })\r\n\r\n    socket.on('activeUser', list => {\r\n      this.setState({activeUser: list});\r\n    })\r\n  }\r\n\r\n  chatLog = () => {\r\n    return <div className='chatBox'>{this.state.msgLog.map((log) => {\r\n      return <p key={log.id}>{log.msg}</p>\r\n    })}</div>\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    socket.emit('clientMessage', {name:this.props.username, text:this.state.text});\r\n\r\n    this.setState({ text: \"\" });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ text: e.target.value });\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ textAlign:'center' }}>\r\n        <h1>ChatRoom</h1>\r\n        <UserList activeUser={this.activeUser} />\r\n        {this.chatLog()}\r\n        <form onSubmit={this.onSubmit}>\r\n        <input type=\"text\" placeholder=\"Please enter your messages ...\" value={this.state.text} onChange={this.onChange}/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Chatroom\r\n"],"sourceRoot":""}