(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{103:function(t,e,n){"use strict";n.r(e),n.d(e,"Chatroom",(function(){return p}));var r=n(2),s=n(101),a=n(15),c=n(16),o=n(18),i=n(17),u=n(0),h=n(70),l=n.n(h)()("https://brian-messenger.herokuapp.com/"),m=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"userList",children:this.props.activeUser.map((function(t){return Object(r.jsx)("p",{children:t.username},t.id)}))})}}]),n}(u.Component),p=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var s=arguments.length,c=new Array(s),o=0;o<s;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={counter:1,text:"",msgLog:[],activeUser:[]},t.chatLog=function(){return Object(r.jsx)("div",{className:"chatBox",children:t.state.msgLog.map((function(t){return Object(r.jsx)("p",{children:t.msg},t.id)}))})},t.onSubmit=function(e){e.preventDefault(),l.emit("clientMessage",{name:t.props.username,text:t.state.text}),t.setState({text:""})},t.onChange=function(e){return t.setState({text:e.target.value})},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;l.io.on("error",(function(t){console.log("Error connecting to server")})),l.emit("username",{username:this.props.username}),l.on("message",(function(e){t.setState({counter:t.state.counter+1,msgLog:[].concat(Object(s.a)(t.state.msgLog),[{id:t.state.counter,msg:e}])})})),l.on("activeUser",(function(e){t.setState({activeUser:e})}))}},{key:"render",value:function(){return Object(r.jsxs)("div",{style:{textAlign:"center"},children:[Object(r.jsx)("h1",{children:"ChatRoom"}),Object(r.jsx)(m,{activeUser:this.activeUser}),this.chatLog(),Object(r.jsx)("form",{onSubmit:this.onSubmit,children:Object(r.jsx)("input",{type:"text",placeholder:"Please enter your messages ...",value:this.state.text,onChange:this.onChange})})]})}}]),n}(u.Component);e.default=p}}]);
//# sourceMappingURL=4.e02654fb.chunk.js.map